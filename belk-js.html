<style>
  .fade-in {
    opacity: 0.01;
    transition: opacity 0.1s ease-out;
  }
  .fade-in.active {
    opacity: 1;
  }
  @media screen and (min-width: 900px) {
    .mobile {
      display: none !important;
    }
  }
  @media screen and (max-width: 900px) {
    .desktop {
      display: none !important;
    }
  }
</style>
<script>
  // COOKIE
  function getSetCookie (k, v, days) {
    const myDate = function (days) {
      return new Date(Date.now() + (days ? days * 86400000 : 31556952000)).toUTCString()
    }
    const expStr = ';expires='
    // SET COOKIE
    if (days || v || v === 0) {
      let value = k + '=' + encodeURIComponent(v) + expStr + myDate(days)
      if (v || v === 0) value += ';path=/'
      document.cookie = value
      return
    }
    // PARSE AND RETURN COOKIE
    const cookies = document.cookie.split(/\s*;\s*/)
    for (let i = 0; i < cookies.length; i++) {
      const c = cookies[i]
      const arr = c.split('=')
      if (arr && arr.length && c.indexOf(k) > -1) {
        if (arr[0] !== k) continue
        return decodeURIComponent(arr[1]) 
      }
    }
    return false
  }
  // CREATE ELEMENT
  function createEl (tagName, propName) {
    propName = propName || ''
    const el = document.createElement(tagName)
    if (propName) {
      const isId = propName.indexOf('#') > -1
      propName = propName.replace('.', '').replace('#', '')
      isId ? el.id = propName : el.className = propName
    }
    return el
  }
  // APPEND CHILD
  function appendChild (parent, children) {
    if (!Array.isArray(children)) children = [children]
    for (let i = 0; i < children.length; i++) parent.appendChild(children[i])
  }
  // GET ELEMENT
  function getEl (sel, all) {
    const els = all ? document.querySelectorAll(sel) : document.querySelector(sel)
    return all ? (els && els.length ? els : null) : els
  }
  // GET PARENT
  function getParent (el, name, isTagName) {
    let isClass = true
    let isId = name.indexOf('#') > -1
    if (isId) isClass = false
    if (isClass) name = name.replace('.', '')
    if (isTagName) {
      isClass = isId = false
      name = name.toUpperCase()
    }
    for (let i = 0; i < 15; i++) {
      el = !i ? el : el.parentNode
      if (!el || (el.tagName && el.tagName === 'BODY')) return
      if (isTagName || isId) {
        const matchVal = isTagName ? el.tagName : el.id
        if (matchVal === name) return el
      } else {
        if (classHelper(el, 'c', name)) return el
      }
    }
  }
  function getChild (el, sel, all) {
    const childEls = all ? el.querySelectorAll(sel) : el.querySelector(sel)
    return all ? (childEls && childEls.length ? childEls : null) : childEls
  }
  function innerHtml (el, str) {
    if (!str && str !== '') return el.innerHTML
    el.innerHTML = str
  }
  function textContent (el, str) {
    if (!str && str !== 0 && str !== '') return el.textContent
    el.textContent = str
  }
  function classHelper (els, action, className) {
    if (!els) return
    const map = {
      c: 'contains',
      a: 'add',
      r: 'remove'
    }  
    const checkEl = function (el) {
      if (!el.classList) return
      if (action === 'c') {
        return el.classList[map[action]](className)
      } 
      if (action === 'r') {
        el.classList.remove(className)
        return
      }
      el.classList[map[action]](className)
    }
    if (action === 'c') return checkEl(els)

    if (!(els instanceof NodeList) && !Array.isArray(els)) return checkEl(els)
    for (let i = 0; i < els.length; i++) checkEl(els[i])
  }
  function getKV (k) {
    const o = Object.create(null)
    const ls = location.search
    const params = ls.split(/\?|&/g)
    for (let i = 0; i < params.length; i++) {
      const p = params[i]
      if (p !== '') {
        const thisKV = p.split('=')
        o[thisKV[0]] = decodeURIComponent(thisKV[1])
      }
    }
    if (k) {
      if (o[k]) return o[k]
      return null
    }
    return o
  }
  function imageSize (src, max) {
    const vals = src.split('/')
    const lastVal = vals[vals.length - 1]
    const query = lastVal.split('.').pop()
    let prefix = lastVal.replace('.' + query, '')
    const defaultVals = ['pico', 'icon', 'thumb', 'small', 'medium', 'large', 'grande', 'original', 'master']
    const defaultRegex = new RegExp(`_(${defaultVals.join('|')})$`)
    const defaultMatch = prefix.match(defaultRegex)
    if (defaultMatch) {
      vals[vals.length - 1] = prefix.replace(defaultRegex, '_' + max + 'x' + max) + '.' + query
      return vals.join('/')
    }
    const thisMatch = lastVal.match(/_(\d+)*x(\d+)*$/)
    if (!thisMatch) {
      prefix = prefix + '_' + max + 'x' + max
    } else {
      prefix = prefix.replace(thisMatch[0], '_' + max + 'x' + max)
    }
    vals[vals.length - 1] = prefix + '.' + query
    return vals.join('/')
  }
  function responsiveImage (options) {
    const img = createEl('img')
    let { src, alt, defaultSize, lazy } = options
    if (!src) return img
    alt = alt || ''
    defaultSize = defaultSize || '900'
    img.src = imageSize(src, defaultSize)
    img.srcset = `${imageSize(src, 400)} 400w, ${imageSize(src, 600)} 600w, ${imageSize(src, 900)} 900w, ${imageSize(src, 1200)} 1200w, ${imageSize(src, 1600)} 1600w, ${imageSize(src, 2000)} 2000w`
    img.alt = options.alt
    if (lazy) img.loading = 'lazy'
    return img
  }
  function priceTrim (price, options) {
    if (!price) return ''
    options = options || {}
    if (options.divide100) {
      price = (price / 100).toFixed(2)
    }

    try {
      if (options.trim) {
        price = parseFloat(price).toFixed(2)
        if (price.match(/\.00/)) return price.replace('.00', '')
      }
    } catch (error) {
      console.error('Error trimming price:', error)
      return price
    }
    return price
  }
  function pageActivityGetCookie () {
    let pageActivityCookie = getSetCookie('page-activity')
    try {
      pageActivityCookie = JSON.parse(pageActivityCookie)
    } catch (e) {}
    if (!pageActivityCookie || typeof pageActivityCookie !== 'object') pageActivityCookie = { pages: 0, scrolls: 0, touches: 0, clicks: 0 }
    return pageActivityCookie
  }
  function pageActivityUpdate (type) {
    let pageActivityCookie = pageActivityGetCookie()
    pageActivityCookie[type]++
    if (type === 'pages') pageActivityCookie.lastView = new Date().toISOString()
    getSetCookie('page-activity', JSON.stringify(pageActivityCookie))
  }
  function pageActivityCheck (options) {
    let match = false
    const pageActivityCookie = pageActivityGetCookie()
    for (const field in options) {
      if (pageActivityCookie[field] > options[field]) {
        match = true
        break
      }
    }
    return match
  }
  function pageActivityInit () {
    let scrollTimeout;
    window.addEventListener('scroll', function () {
      clearTimeout(scrollTimeout)
      scrollTimeout = setTimeout(() => {
        pageActivityUpdate('scrolls')
      }, 100)
    })
    window.addEventListener('touchend', function () {
      pageActivityUpdate('touches')
    })
    window.addEventListener('click', function () {
      pageActivityUpdate('clicks')
    })
  }
  function pageActivityWatchFn (fn, options) {
    const events = ['scroll', 'touchend', 'click']
    for (let i = 0; i < events.length; i++) {
      const event = events[i]
      window.addEventListener(event, function () {
        if (options) {
          if (pageActivityCheck(options)) fn()
          return
        }
        fn()
      })
    }
  }
  pageActivityUpdate('pages')
  pageActivityInit()

  function activateFadeIn (el) {
    const fadeIns = document.querySelectorAll('.fade-in')
    if (!fadeIns || !fadeIns.length) return
    
    setTimeout(() => {
      for (let i = 0; i < fadeIns.length; i++) {
        const thisEl = fadeIns[i]
        classHelper(thisEl, 'a', 'active')
      }
    }, 2)
  }
  function debounce(callback, wait) {
    let timeoutId = null;

    const debounced = (...args) => {
      if (timeoutId) {
        clearTimeout(timeoutId);
      }
      timeoutId = setTimeout(() => {
        callback(...args);
      }, wait);
    };

    debounced.cancel = () => {
      clearTimeout(timeoutId);
      timeoutId = null;
    };

    return debounced;
  }
  document.readyState !== 'loading' ? activateFadeIn() : document.addEventListener('DOMContentLoaded', activateFadeIn)
</script>
